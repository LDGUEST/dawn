{% comment %}
  Custom Landing Page Section - Cooking with Kahnke Style
  This section recreates the exact design from the screenshot
  Integrated with Brevo for email marketing
{% endcomment %}

<div class="kahnke-landing-wrapper" style="{% if section.settings.gradient_color_1 != blank and section.settings.gradient_color_2 != blank %}background: linear-gradient(180deg, {{ section.settings.gradient_color_1 }} 0%, {{ section.settings.gradient_color_2 }} 100%);{% endif %}">
  <div class="kahnke-container">
    
    {%- comment -%} HEADER IMAGE CARD {%- endcomment -%}
    <div class="kahnke-header-card">
      {% if section.settings.header_image != blank %}
        <div class="kahnke-header-image">
          {{ section.settings.header_image | image_url: width: 800 | image_tag: loading: 'eager', alt: section.settings.brand_name }}
        </div>
      {% else %}
        <div class="kahnke-header-image-placeholder">
          <p>Upload your header image</p>
        </div>
      {% endif %}
    </div>

    {%- comment -%} PRODUCT CARD {%- endcomment -%}
    <div class="kahnke-product-card">
      <div class="kahnke-product-grid">
        <div class="kahnke-product-images">
          {% for i in (1..16) %}
            {% assign image_setting = 'product_image_' | append: i %}
            {% if section.settings[image_setting] != blank %}
              <div class="kahnke-grid-item">
                {{ section.settings[image_setting] | image_url: width: 200 | image_tag: loading: 'lazy', alt: section.settings.product_title }}
              </div>
            {% else %}
              <div class="kahnke-grid-item kahnke-placeholder">
                <span>{{ i }}</span>
              </div>
            {% endif %}
          {% endfor %}
        </div>
        
        <div class="kahnke-product-details">
          <h2>{{ section.settings.product_title | default: "30 Lettuce Wrap Recipes Book PDF" }}</h2>
          <p class="kahnke-product-description">{{ section.settings.product_description | default: "30 inspirational lettuce wrap recipes to try!" }}</p>
          <p class="kahnke-product-price">{{ section.settings.product_price | default: "$9.99" }}</p>
          <a href="{{ section.settings.buy_button_url | default: '#' }}" class="kahnke-buy-button">
            {{ section.settings.buy_button_text | default: "Buy now" }}
          </a>
        </div>
      </div>
    </div>

    {%- comment -%} NEWSLETTER SIGNUP - SHOPIFY CUSTOMER INTEGRATION {%- endcomment -%}
    <div class="kahnke-newsletter-card">
      <h2>Subscribe to {{ section.settings.social_handle | default: "@cookingwithkahnke" }}</h2>
      <p class="kahnke-newsletter-subtitle">
        {{ section.settings.newsletter_description | default: "Sign up to get exclusive updates & deals updates directly from me." }}
      </p>
      
      {% form 'customer', class: 'kahnke-newsletter-form' %}
        {% if form.posted_successfully? %}
          <div class="kahnke-form-success show">
            <p>Thanks for subscribing! Check your email to confirm.</p>
          </div>
        {% endif %}
        
        {% if form.errors %}
          <div class="kahnke-form-error show">
            {{ form.errors | default_errors }}
          </div>
        {% endif %}
        
        <input 
          type="text" 
          name="contact[first_name]" 
          placeholder="First Name"
          class="kahnke-input"
          required
        >
        
        <input 
          type="email" 
          name="contact[email]" 
          placeholder="Email"
          class="kahnke-input"
          required
        >
        
        <input type="hidden" name="contact[tags]" value="newsletter">
        
        <button type="submit" class="kahnke-subscribe-button">
          {{ section.settings.subscribe_button_text | default: "Subscribe" }}
        </button>
      {% endform %}
    </div>
    
  </div>
</div>

{% schema %}
{
  "name": "Cooking Landing Page",
  "settings": [
    {
      "type": "header",
      "content": "Background Gradient"
    },
    {
      "type": "color",
      "id": "gradient_color_1",
      "label": "Gradient Top Color",
      "default": "#A8E6CF",
      "info": "Top color of the background gradient"
    },
    {
      "type": "color",
      "id": "gradient_color_2",
      "label": "Gradient Bottom Color",
      "default": "#7FD9B3",
      "info": "Bottom color of the background gradient"
    },
    {
      "type": "header",
      "content": "Header Image"
    },
    {
      "type": "image_picker",
      "id": "header_image",
      "label": "Header Image",
      "info": "Upload your custom header/banner image. Recommended size: 800x400px or similar"
    },
    {
      "type": "text",
      "id": "brand_name",
      "label": "Brand Name (for alt text)",
      "default": "Cooking with Kahnke"
    },
    {
      "type": "header",
      "content": "Product Settings"
    },
    {
      "type": "text",
      "id": "product_title",
      "label": "Product Title",
      "default": "30 Lettuce Wrap Recipes Book PDF"
    },
    {
      "type": "textarea",
      "id": "product_description",
      "label": "Product Description",
      "default": "30 inspirational lettuce wrap recipes to try!"
    },
    {
      "type": "text",
      "id": "product_price",
      "label": "Product Price",
      "default": "$9.99"
    },
    {
      "type": "url",
      "id": "buy_button_url",
      "label": "Buy Button URL",
      "info": "Link to your Digital Downloads product page"
    },
    {
      "type": "text",
      "id": "buy_button_text",
      "label": "Buy Button Text",
      "default": "Buy now"
    },
    {
      "type": "header",
      "content": "Product Images (4x4 Grid)"
    },
    {
      "type": "image_picker",
      "id": "product_image_1",
      "label": "Image 1"
    },
    {
      "type": "image_picker",
      "id": "product_image_2",
      "label": "Image 2"
    },
    {
      "type": "image_picker",
      "id": "product_image_3",
      "label": "Image 3"
    },
    {
      "type": "image_picker",
      "id": "product_image_4",
      "label": "Image 4"
    },
    {
      "type": "image_picker",
      "id": "product_image_5",
      "label": "Image 5"
    },
    {
      "type": "image_picker",
      "id": "product_image_6",
      "label": "Image 6"
    },
    {
      "type": "image_picker",
      "id": "product_image_7",
      "label": "Image 7"
    },
    {
      "type": "image_picker",
      "id": "product_image_8",
      "label": "Image 8"
    },
    {
      "type": "image_picker",
      "id": "product_image_9",
      "label": "Image 9"
    },
    {
      "type": "image_picker",
      "id": "product_image_10",
      "label": "Image 10"
    },
    {
      "type": "image_picker",
      "id": "product_image_11",
      "label": "Image 11"
    },
    {
      "type": "image_picker",
      "id": "product_image_12",
      "label": "Image 12"
    },
    {
      "type": "image_picker",
      "id": "product_image_13",
      "label": "Image 13"
    },
    {
      "type": "image_picker",
      "id": "product_image_14",
      "label": "Image 14"
    },
    {
      "type": "image_picker",
      "id": "product_image_15",
      "label": "Image 15"
    },
    {
      "type": "image_picker",
      "id": "product_image_16",
      "label": "Image 16"
    },
    {
      "type": "header",
      "content": "Newsletter Settings"
    },
    {
      "type": "text",
      "id": "social_handle",
      "label": "Social Handle",
      "default": "@cookingwithkahnke"
    },
    {
      "type": "textarea",
      "id": "newsletter_description",
      "label": "Newsletter Description",
      "default": "Sign up to get exclusive updates & deals updates directly from me."
    },
    {
      "type": "text",
      "id": "subscribe_button_text",
      "label": "Subscribe Button Text",
      "default": "Subscribe"
    },
    {
      "type": "header",
      "content": "Newsletter Info"
    },
    {
      "type": "paragraph",
      "content": "Newsletter signups will be saved to your Shopify Customers list with the 'newsletter' tag. You can view them in Customers section and export for your email marketing tool."
    }
  ],
  "presets": [
    {
      "name": "Cooking Landing Page"
    }
  ]
}
{% endschema %}

