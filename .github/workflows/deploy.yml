name: Deploy to Shopify

on:
  push:
    branches:
      - main
    paths:
      - 'templates/**'
      - 'sections/**'
      - 'assets/**'
      - '.github/workflows/deploy.yml'

jobs:
  deploy:
    name: Deploy Theme to Shopify
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4

      - name: Deploy to Shopify
        uses: shopify/theme-action@v1
        with:
          store: cookingwithkahnke.myshopify.com
          password: ${{ secrets.SHOPIFY_PASSWORD }}
          theme: live
          allow-live: true
          only: |
            templates/index.json
            sections/custom-landing-page.liquid
            sections/main-product.liquid
            assets/custom-landing-styles.css

